import { Banner, NavBar } from '@/components';
import SectionCards from '@/components/Card/sectionCards/SectionCards';
import Head from 'next/head';
import { getVideos } from '@/lib/videos';

import styles from '../styles/Home.module.scss';

export async function getServerSideProps() {
	const disneyVideos = await getVideos('disney trailer');
	const productivityVideos = await getVideos('productivity');
	const travelVideos = await getVideos('travel');
	const popularVideos = await getVideos('popular');

	return {
		props: {
			disneyVideos,
			productivityVideos,
			travelVideos,
			popularVideos,
		},
	};
}

export default function Home({ disneyVideos, productivityVideos, travelVideos, popularVideos }) {
	return (
		<div className={styles.container}>
			<Head>
				<title>Nextflix</title>
				<meta
					name="description"
					content="Generated by create next app"
				/>
				<link
					rel="icon"
					href="/favicon.ico"
				/>
			</Head>

			<NavBar username="albina@gmail.com" />
			<Banner
				title="Title"
				subtitle="Subtitle"
			/>
			<SectionCards
				videos={disneyVideos}
				title="Disney"
				size="large"
			/>
			<SectionCards
				videos={travelVideos}
				title="Travel"
				size="small"
			/>

			<SectionCards
				videos={productivityVideos}
				title="Productivity"
				size="medium"
			/>

			<SectionCards
				videos={popularVideos}
				title="Popular"
				size="small"
			/>
		</div>
	);
}
